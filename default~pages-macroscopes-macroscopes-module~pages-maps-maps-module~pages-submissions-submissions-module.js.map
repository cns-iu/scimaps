{"version":3,"sources":["./src/app/shared/components/discover-listing/discover-listing.component.ts","./src/app/shared/components/discover-listing/discover-listing.component.html","./src/app/constants/content-trigger.ts","./src/app/shared/components/warning-dialog/warning-dialog.component.ts","./src/app/shared/components/warning-dialog/warning-dialog.component.html","./src/app/shared/components/discover-listing/discover-listing.module.ts","./src/app/shared/components/warning-dialog/warning-dialog.module.ts"],"names":[],"mappings":"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","file":"default~pages-macroscopes-macroscopes-module~pages-maps-maps-module~pages-submissions-submissions-module.js","sourcesContent":["import { Component, HostBinding, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DiscoverItem } from '../../../core/models/discover-item';\nimport { WarningDialogComponent } from '../warning-dialog/warning-dialog.component';\nimport { contentTrigger } from '../../../constants/content-trigger';\n\n@Component({\n  selector: 'sci-discover-listing',\n  templateUrl: './discover-listing.component.html',\n  styleUrls: ['./discover-listing.component.scss'],\n  animations: [contentTrigger]\n})\nexport class DiscoverListingComponent {\n  /** HTML class name */\n  @HostBinding('class') readonly clsName = 'sci-discover-listing';\n\n  @Input() discoverItem!: DiscoverItem;\n  mobileWarning = 'Macroscopes work best on desktop or larger tablet screens.  You may have a less than optimal experience on this device.';\n\n  /** Type of discover list */\n  @Input() type!: 'macroscopes' | 'maps' | 'submissions';\n\n  fullContentVisible = false;\n  maxContentLength = 500;\n\n  constructor(private readonly dialog: MatDialog, private router: Router) { }\n\n  get hasLongContent(): boolean {\n    return (this.discoverItem?.body?.length || 0) > this.maxContentLength;\n  }\n\n  get fullContent(): string {\n    return this.discoverItem.body;\n  }\n\n  get partialContent(): string {\n    const {\n      fullContent,\n      maxContentLength\n    } = this;\n    return `${fullContent.slice(0, maxContentLength)} ${this.hasLongContent ? '...' : ''}`;\n  }\n\n  imageSource(image: string): string {\n    return image.startsWith('assets/') ? image : `assets/${this.discoverItem.directory}/${this.discoverItem.slug}/${image}`;\n  }\n\n  mobileThumbnailClickHandler(link: string): void {\n    if (this.type === 'macroscopes') {\n      this.dialog.open(WarningDialogComponent, {\n        width: '95%',\n        data: {\n          warningMessage: this.mobileWarning,\n          closeLink: link\n        }\n      });\n    } else {\n      this.router.navigate(['/', ...link.split('/')]);\n    }\n  }\n\n  desktopThumbnailClickHandler(link: string): void {\n    this.router.navigate(['/', ...link.split('/')]);\n  }\n}\n","<div class=\"text-content\">\n  <h3 class=\"header\">{{ discoverItem.title }}</h3>\n  <div *sciBreakpoint=\"'desktop-'\">\n    <div class=\"markdown full\" markdown [data]=\"fullContent\"></div>\n  </div>\n\n  <div *sciBreakpoint=\"'desktop'\">\n    <div *ngIf=\"!fullContentVisible\" class=\"markdown partial\" markdown [data]=\"partialContent\"></div>\n    <div [@contentTrigger] *ngIf=\"fullContentVisible\" class=\"markdown full\" markdown [data]=\"fullContent\"></div>\n    <div\n      *ngIf=\"hasLongContent\"\n      class=\"show-more\"\n      (click)=\"fullContentVisible = !fullContentVisible\">\n      {{ fullContentVisible ? \"Show less\" : \"Read more...\" }}\n    </div>\n  </div>\n</div>\n\n<div class=\"image-content\">\n  <div class=\"thumbnail desktop\" *ngFor=\"let thumbnail of discoverItem.thumbnails; let i = index\" (click)=\"desktopThumbnailClickHandler(thumbnail.link)\">\n    <img class=\"thumbnail-image\" [src]=\"imageSource(thumbnail.image)\" [alt]=\"thumbnail.image\">\n    <ng-template [ngIf]=\"type == 'submissions'\">\n      <h4>{{i + 1}}. {{thumbnail.title}}</h4>\n    </ng-template>\n  </div>\n\n  <div class=\"thumbnail mobile\" *ngFor=\"let thumbnail of discoverItem.thumbnails;\" (click)=\"mobileThumbnailClickHandler(thumbnail.link)\">\n    <img class=\"thumbnail-image\" [src]=\"imageSource(thumbnail.image)\" [alt]=\"thumbnail.image\">\n  </div>\n</div>\n","import { animate, style, transition, trigger } from '@angular/animations';\n\nexport const contentTrigger = trigger('contentTrigger', [\n    transition(':enter', [\n      style({\n        opacity: 1,\n        height: 0\n      }),\n      animate('200ms ease-out', style({\n        opacity: 1,\n        height: '*'\n      })),\n    ]),\n    transition(':leave', [\n      style({\n        opacity: 1,\n        height: '*'\n      }),\n      animate('200ms ease-in', style({\n        opacity: 0,\n        height: 0\n      }))\n    ]),\n  ]);\n","import { Component, HostBinding, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\ninterface WarningDialogData {\n  closeLink?: string;\n  warningMessage?: string;\n}\n\n@Component({\n  selector: 'sci-warning-dialog',\n  templateUrl: './warning-dialog.component.html',\n  styleUrls: ['./warning-dialog.component.scss']\n})\nexport class WarningDialogComponent {\n  /** HTML class name */\n  @HostBinding('class') readonly clsName = 'sci-warning-dialog';\n\n  closeLink = '';\n  warningMessage = '';\n\n  constructor(\n    public dialogRef: MatDialogRef<WarningDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: WarningDialogData\n  ) {\n    if (data.closeLink) {\n      this.closeLink = data.closeLink;\n    }\n\n    if (data.warningMessage) {\n      this.warningMessage = data.warningMessage;\n    }\n  }\n\n  /**\n   * Closes info dialog component\n   */\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  buttonClickHandler(): void {\n    if (this.closeLink !== '') {\n      window.open(this.closeLink, '_blank');\n    } else {\n      this.close();\n    }\n  }\n}\n","<div class=\"warning-dialog wrapper\">\n  <div class=\"container\">\n    <div class=\"close\">\n      <mat-icon class=\"material-icons close-icon\" (click)=close()>clear</mat-icon>\n    </div>\n    <div class=\"content\">\n      <div class=\"info-icon-container\">\n        <div class=\"info-icon\">i</div>\n      </div>\n\n      <mat-dialog-content class=\"mat-typography\">\n        <p class=\"description\">\n          {{ warningMessage }}\n        </p>\n\n        <div class=\"button-container\">\n          <button class=\"continue-button\" (click)=\"buttonClickHandler()\">CONTINUE</button>\n        </div>\n      </mat-dialog-content>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MarkdownModule } from 'ngx-markdown';\n\nimport { DiscoverListingComponent } from './discover-listing.component';\nimport { WarningDialogModule } from '../warning-dialog/warning-dialog.module';\nimport { SharedModule } from '../../shared.module';\n\n@NgModule({\n  declarations: [DiscoverListingComponent],\n  imports: [\n    CommonModule,\n    MarkdownModule,\n    WarningDialogModule,\n    SharedModule\n  ],\n  exports: [DiscoverListingComponent]\n})\nexport class DiscoverListingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WarningDialogComponent } from './warning-dialog.component';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\n\n\n\n@NgModule({\n  declarations: [WarningDialogComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatIconModule\n  ],\n  exports: [WarningDialogComponent]\n})\nexport class WarningDialogModule { }\n"],"sourceRoot":"webpack:///"}