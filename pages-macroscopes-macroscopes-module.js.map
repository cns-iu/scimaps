{"version":3,"sources":["./src/app/pages/macroscopes/macroscopes-routing.module.ts","./src/app/pages/macroscopes/macroscopes.module.ts","./src/app/pages/macroscopes/macroscopes-body-resolver.service.ts","./src/app/pages/macroscopes/macroscopes.component.ts","./src/app/pages/macroscopes/macroscopes.component.html"],"names":[],"mappings":"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","file":"pages-macroscopes-macroscopes-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { MacroscopesBodyResolverService } from './macroscopes-body-resolver.service';\nimport { MacroscopesResolverService } from './macroscopes-resolver.service';\nimport { MacroscopesComponent } from './macroscopes.component';\n\n\nconst routes: Routes = [{\n  path: '',\n  component: MacroscopesComponent,\n  resolve: {\n    macroscopes: MacroscopesResolverService,\n    body: MacroscopesBodyResolverService\n  },\n  runGuardsAndResolvers: 'pathParamsOrQueryParamsChange',\n  children: [\n    {\n      path: '',\n      loadChildren: () => import('../macroscope/macroscope.module').then(m => m.MacroscopeModule),\n      data: { animation: 'Macroscope', type: 'macroscope'}\n    }\n  ]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MacroscopesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MarkdownModule } from 'ngx-markdown';\n\nimport { MacroscopesRoutingModule } from './macroscopes-routing.module';\nimport { MacroscopesComponent } from './macroscopes.component';\nimport { DiscoverListingModule } from '../../shared/components/discover-listing/discover-listing.module';\nimport { MatIconModule } from '@angular/material/icon';\nimport { CarouselModule } from '../../shared/components/carousel/carousel.module';\nimport { SharedModule } from '../../shared/shared.module';\nimport { DrawerModule } from '../../shared/components/drawer/drawer.module';\nimport { DrawerHeaderModule } from '../../shared/components/drawer-header/drawer-header.module';\n\n\n@NgModule({\n  declarations: [MacroscopesComponent],\n  imports: [\n    CommonModule,\n    MacroscopesRoutingModule,\n    DiscoverListingModule,\n    MatIconModule,\n    MarkdownModule,\n    CarouselModule,\n    SharedModule,\n    DrawerModule,\n    DrawerHeaderModule\n  ]\n})\nexport class MacroscopesModule { }\n","import { Injectable } from '@angular/core';\nimport {\n  Resolve\n} from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { isHttp } from '../../constants/utils';\nimport { ContentService } from '../../shared/services/content.service';\n\n\ninterface MacroscopesBody {\n  body: string;\n  carousel: {\n    title: string;\n    sm: string;\n    lg: string;\n  }[];\n}\n@Injectable({\n  providedIn: 'root',\n})\nexport class MacroscopesBodyResolverService implements Resolve<MacroscopesBody> {\n\n\n  constructor(private content: ContentService) {}\n\n  directory = 'assets/content/site/macroscopes';\n\n  resolve(): Observable<MacroscopesBody> | Observable<never> {\n    return this.content\n      .getContent<MacroscopesBody>('site/macroscopes/whatIsAMacroscope.md')\n      .pipe(\n        take(1),\n        map((response) => {\n          return this.updatePaths(response);\n        })\n      );\n  }\n\n  updatePaths(body: MacroscopesBody): MacroscopesBody {\n    // Carousel\n    const { carousel } = body;\n    if (carousel && Array.isArray(carousel)) {\n      carousel.forEach((image) => {\n        if (image.lg && !isHttp(image.lg)) {\n          image.lg = `${this.directory}/${image.lg}`;\n        }\n        if (image.sm && !isHttp(image.sm)) {\n          image.sm = `${this.directory}/${image.sm}`;\n        }\n      });\n      body.carousel = carousel;\n    }\n    return body;\n  }\n}\n","import { Component, HostBinding, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { drawerInOut } from '../../constants/drawer.animations';\nimport { DiscoverItem } from '../../core/models/discover-item';\n\n\n\n@Component({\n  selector: 'sci-macroscopes',\n  templateUrl: './macroscopes.component.html',\n  styleUrls: ['./macroscopes.component.scss'],\n  animations: [drawerInOut]\n})\nexport class MacroscopesComponent implements OnInit {\n  /** HTML class name */\n  @HostBinding('class') readonly clsName = 'sci-macroscopes';\n\n  showModal = false;\n  highlightBody = '';\n  discoverItems: DiscoverItem[] = [];\n  displayItems: DiscoverItem[] = [];\n  carouselItems: {sm: string, lg: string, title: string}[] = [];\n  showAllItems = false;\n  displayLimit = 3;\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.data.subscribe((data) => {\n      const {body, macroscopes} = data;\n      this.discoverItems = macroscopes;\n      if (body) {\n        this.highlightBody = body.body;\n      }\n      if (body.carousel) {\n        this.carouselItems = body.carousel;\n      }\n      this.updateDisplayItems();\n    });\n  }\n\n  updateDisplayItems(): void {\n    const items: DiscoverItem[] = [...this.discoverItems];\n    this.displayItems = items;\n  }\n}\n","<div class=\"macroscopes-container\">\n\n  <h2 class=\"header\">Macroscopes</h2>\n  <div class=\"highlight-content\">\n    <p markdown [data]=\"highlightBody\" class=\"highlight-body\"></p>\n    <div class=\"carousel-container\">\n      <sci-carousel class=\"carousel\">\n        <sci-carousel-item class=\"sci-carousel-item\" *ngFor=\"let carouselItem of carouselItems\">\n          <div class=\"carousel-item\" *sciBreakpoint=\"'desktop'\">\n            <img [src]=\"carouselItem.lg\" class=\"carousel-image\" [alt]=\"carouselItem.lg.split('/')[3]\">\n            <div class=\"carousel-image-title\">{{ carouselItem.title }}</div>\n          </div>\n          <div class=\"carousel-item\" *sciBreakpoint=\"'desktop-'\">\n            <img [src]=\"carouselItem.sm\" class=\"carousel-image\" [alt]=\"carouselItem.sm.split('/')[3]\">\n            <div class=\"carousel-image-title\">{{ carouselItem.title }}</div>\n          </div>\n        </sci-carousel-item>\n      </sci-carousel>\n    </div>\n  </div>\n\n  <ng-container *ngFor=\"let item of displayItems; let i = index;\">\n    <sci-discover-listing id=\"macroscope-{{item.iteration}}\" *ngIf=\"showAllItems || i < displayLimit\"\n      class=\"discover-item macroscopes\" [discoverItem]=\"item\" [type]=\"'macroscopes'\"></sci-discover-listing>\n  </ng-container>\n\n  <!-- mobile -->\n  <button *ngIf=\"!showAllItems\" class=\"more-button\" (click)=\"showAllItems = true\">Show More Macroscopes</button>\n  <div class=\"mobile-button\" (click)=\"showModal = true;\">\n    Discover Macroscopes\n    <mat-icon class=\"mobile-icon\">chevron_right</mat-icon>\n  </div>\n\n  <sci-drawer [@drawerInOut] *ngIf=\"showModal\" class=\"sci-drawer\">\n    <div class=\"drawer-container\" drawer>\n      <sci-drawer-header [title]=\"'Macroscopes'\" (backClick)=\"showModal = false\">\n      </sci-drawer-header>\n      <div class=\"drawer-content\">\n        <sci-carousel class=\"macroscopes-carousel\">\n          <sci-carousel-item class=\"mobile-carousel\" *ngFor=\"let discoverItem of discoverItems\">\n            <sci-discover-listing [discoverItem]=\"discoverItem\" [type]=\"'macroscopes'\"></sci-discover-listing>\n          </sci-carousel-item>\n        </sci-carousel>\n      </div>\n    </div>\n  </sci-drawer>\n</div>\n\n<router-outlet></router-outlet>"],"sourceRoot":"webpack:///"}