{"version":3,"file":"default-projects_scimaps_src_app_shared_components_discover-listing_discover-listing_module_ts.js","mappings":"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","sources":["./projects/scimaps/src/app/constants/content-trigger.ts","./projects/scimaps/src/app/shared/components/discover-listing/discover-listing.component.ts","./projects/scimaps/src/app/shared/components/discover-listing/discover-listing.component.html","./projects/scimaps/src/app/shared/components/discover-listing/discover-listing.module.ts","./projects/scimaps/src/app/shared/components/warning-dialog/warning-dialog.component.ts","./projects/scimaps/src/app/shared/components/warning-dialog/warning-dialog.component.html","./projects/scimaps/src/app/shared/components/warning-dialog/warning-dialog.module.ts"],"sourcesContent":["import { animate, style, transition, trigger } from '@angular/animations';\n\nexport const contentTrigger = trigger('contentTrigger', [\n    transition(':enter', [\n      style({\n        opacity: 1,\n        height: 0\n      }),\n      animate('200ms ease-out', style({\n        opacity: 1,\n        height: '*'\n      })),\n    ]),\n    transition(':leave', [\n      style({\n        opacity: 1,\n        height: '*'\n      }),\n      animate('200ms ease-in', style({\n        opacity: 0,\n        height: 0\n      }))\n    ]),\n  ]);\n","import { Component, HostBinding, Input } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DiscoverItem } from '../../../core/models/discover-item';\nimport { WarningDialogComponent } from '../warning-dialog/warning-dialog.component';\nimport { contentTrigger } from '../../../constants/content-trigger';\n\n@Component({\n  selector: 'sci-discover-listing',\n  templateUrl: './discover-listing.component.html',\n  styleUrls: ['./discover-listing.component.scss'],\n  animations: [contentTrigger]\n})\nexport class DiscoverListingComponent {\n  /** HTML class name */\n  @HostBinding('class') readonly clsName = 'sci-discover-listing';\n\n  @Input() discoverItem!: DiscoverItem;\n  mobileWarning = 'Macroscopes work best on desktop or larger tablet screens.  You may have a less than optimal experience on this device.';\n\n  /** Type of discover list */\n  @Input() type!: 'macroscopes' | 'maps' | 'submissions';\n\n  fullContentVisible = false;\n  maxContentLength = 500;\n\n  constructor(private readonly dialog: MatDialog, private router: Router) { }\n\n  get hasLongContent(): boolean {\n    return (this.discoverItem?.body?.length || 0) > this.maxContentLength;\n  }\n\n  get fullContent(): string {\n    return this.discoverItem.body;\n  }\n\n  get partialContent(): string {\n    const {\n      fullContent,\n      maxContentLength\n    } = this;\n    return `${fullContent.slice(0, maxContentLength)} ${this.hasLongContent ? '...' : ''}`;\n  }\n\n  imageSource(image: string): string {\n    return image.startsWith('assets/') ? image : `assets/${this.discoverItem.directory}/${this.discoverItem.slug}/${image}`;\n  }\n\n  mobileThumbnailClickHandler(link: string): void {\n    if (this.type === 'macroscopes') {\n      this.dialog.open(WarningDialogComponent, {\n        width: '95%',\n        data: {\n          warningMessage: this.mobileWarning,\n          closeLink: link\n        }\n      });\n    } else {\n      this.router.navigate(['/', ...link.split('/')]);\n    }\n  }\n\n  desktopThumbnailClickHandler(link: string): void {\n    this.router.navigate(['/', ...link.split('/')]);\n  }\n}\n","<div class=\"text-content\">\n  <h3 class=\"header\">{{ discoverItem.title }}</h3>\n  <div *sciBreakpoint=\"'desktop-'\">\n    <div class=\"markdown full\" markdown [data]=\"fullContent\"></div>\n  </div>\n\n  <div *sciBreakpoint=\"'desktop'\">\n    <div *ngIf=\"!fullContentVisible\" class=\"markdown partial\" markdown [data]=\"partialContent\"></div>\n    <div [@contentTrigger] *ngIf=\"fullContentVisible\" class=\"markdown full\" markdown [data]=\"fullContent\"></div>\n    <div\n      *ngIf=\"hasLongContent\"\n      class=\"show-more\"\n      (click)=\"fullContentVisible = !fullContentVisible\">\n      {{ fullContentVisible ? \"Show less\" : \"Read more...\" }}\n    </div>\n  </div>\n</div>\n\n<div class=\"image-content\">\n  <div class=\"thumbnail desktop\" *ngFor=\"let thumbnail of discoverItem.thumbnails; let i = index\" (click)=\"desktopThumbnailClickHandler(thumbnail.link)\">\n    <img class=\"thumbnail-image\" [src]=\"imageSource(thumbnail.image)\" [alt]=\"thumbnail.image\">\n    <ng-template [ngIf]=\"type == 'submissions'\">\n      <h4>{{i + 1}}. {{thumbnail.title}}</h4>\n    </ng-template>\n    <ng-template [ngIf]=\"type == 'macroscopes'\">\n      <h4 class=\"macroscope-title\">{{thumbnail.title}}</h4>\n    </ng-template>\n  </div>\n\n  <div class=\"thumbnail mobile\" *ngFor=\"let thumbnail of discoverItem.thumbnails;\" (click)=\"mobileThumbnailClickHandler(thumbnail.link)\">\n    <img class=\"thumbnail-image\" [src]=\"imageSource(thumbnail.image)\" [alt]=\"thumbnail.image\">\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MarkdownModule } from 'ngx-markdown';\n\nimport { DiscoverListingComponent } from './discover-listing.component';\nimport { WarningDialogModule } from '../warning-dialog/warning-dialog.module';\nimport { SharedModule } from '../../shared.module';\n\n@NgModule({\n  declarations: [DiscoverListingComponent],\n  imports: [\n    CommonModule,\n    MarkdownModule,\n    WarningDialogModule,\n    SharedModule\n  ],\n  exports: [DiscoverListingComponent]\n})\nexport class DiscoverListingModule { }\n","import { Component, HostBinding, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\ninterface WarningDialogData {\n  closeLink?: string;\n  warningMessage?: string;\n}\n\n@Component({\n  selector: 'sci-warning-dialog',\n  templateUrl: './warning-dialog.component.html',\n  styleUrls: ['./warning-dialog.component.scss']\n})\nexport class WarningDialogComponent {\n  /** HTML class name */\n  @HostBinding('class') readonly clsName = 'sci-warning-dialog';\n\n  closeLink = '';\n  warningMessage = '';\n\n  constructor(\n    public dialogRef: MatDialogRef<WarningDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: WarningDialogData\n  ) {\n    if (data.closeLink) {\n      this.closeLink = data.closeLink;\n    }\n\n    if (data.warningMessage) {\n      this.warningMessage = data.warningMessage;\n    }\n  }\n\n  /**\n   * Closes info dialog component\n   */\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  buttonClickHandler(): void {\n    if (this.closeLink !== '') {\n      window.open(this.closeLink, '_blank');\n    } else {\n      this.close();\n    }\n  }\n}\n","<div class=\"warning-dialog wrapper\">\n  <div class=\"container\">\n    <div class=\"close\">\n      <mat-icon class=\"material-icons close-icon\" (click)=close()>clear</mat-icon>\n    </div>\n    <div class=\"content\">\n      <div class=\"info-icon-container\">\n        <div class=\"info-icon\">i</div>\n      </div>\n\n      <mat-dialog-content class=\"mat-typography\">\n        <p class=\"description\">\n          {{ warningMessage }}\n        </p>\n\n        <div class=\"button-container\">\n          <button class=\"continue-button\" (click)=\"buttonClickHandler()\">CONTINUE</button>\n        </div>\n      </mat-dialog-content>\n    </div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WarningDialogComponent } from './warning-dialog.component';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\n\n\n\n@NgModule({\n  declarations: [WarningDialogComponent],\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatIconModule\n  ],\n  exports: [WarningDialogComponent]\n})\nexport class WarningDialogModule { }\n"],"names":[],"sourceRoot":"webpack:///"}