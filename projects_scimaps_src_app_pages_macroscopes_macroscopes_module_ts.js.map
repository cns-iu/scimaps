{"version":3,"file":"projects_scimaps_src_app_pages_macroscopes_macroscopes_module_ts.js","mappings":"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","sources":["./projects/scimaps/src/app/pages/macroscopes/macroscopes-body-resolver.service.ts","./projects/scimaps/src/app/pages/macroscopes/macroscopes-routing.module.ts","./projects/scimaps/src/app/pages/macroscopes/macroscopes.component.ts","./projects/scimaps/src/app/pages/macroscopes/macroscopes.component.html","./projects/scimaps/src/app/pages/macroscopes/macroscopes.module.ts","./projects/scimaps/src/app/shared/components/drawer-header/drawer-header.component.ts","./projects/scimaps/src/app/shared/components/drawer-header/drawer-header.component.html","./projects/scimaps/src/app/shared/components/drawer-header/drawer-header.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  Resolve\n} from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\nimport { isHttp } from '../../constants/utils';\nimport { ContentService } from '../../shared/services/content.service';\n\n\ninterface MacroscopesBody {\n  body: string;\n  carousel: {\n    title: string;\n    sm: string;\n    lg: string;\n  }[];\n}\n@Injectable({\n  providedIn: 'root',\n})\nexport class MacroscopesBodyResolverService implements Resolve<MacroscopesBody> {\n\n\n  constructor(private content: ContentService) {}\n\n  directory = 'assets/content/site/macroscopes';\n\n  resolve(): Observable<MacroscopesBody> | Observable<never> {\n    return this.content\n      .getContent<MacroscopesBody>('site/macroscopes/whatIsAMacroscope.md')\n      .pipe(\n        take(1),\n        map((response) => {\n          return this.updatePaths(response);\n        })\n      );\n  }\n\n  updatePaths(body: MacroscopesBody): MacroscopesBody {\n    // Carousel\n    const { carousel } = body;\n    if (carousel && Array.isArray(carousel)) {\n      carousel.forEach((image) => {\n        if (image.lg && !isHttp(image.lg)) {\n          image.lg = `${this.directory}/${image.lg}`;\n        }\n        if (image.sm && !isHttp(image.sm)) {\n          image.sm = `${this.directory}/${image.sm}`;\n        }\n      });\n      body.carousel = carousel;\n    }\n    return body;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { MacroscopesBodyResolverService } from './macroscopes-body-resolver.service';\nimport { MacroscopesResolverService } from './macroscopes-resolver.service';\nimport { MacroscopesComponent } from './macroscopes.component';\n\n\nconst routes: Routes = [{\n  path: '',\n  component: MacroscopesComponent,\n  resolve: {\n    macroscopes: MacroscopesResolverService,\n    body: MacroscopesBodyResolverService\n  },\n  runGuardsAndResolvers: 'pathParamsOrQueryParamsChange',\n  children: [\n    {\n      path: '',\n      loadChildren: () => import('../macroscope/macroscope.module').then(m => m.MacroscopeModule),\n      data: { animation: 'Macroscope', type: 'macroscope'}\n    }\n  ]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MacroscopesRoutingModule { }\n","import { Component, HostBinding, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { drawerInOut } from '../../constants/drawer.animations';\nimport { DiscoverItem } from '../../core/models/discover-item';\n\n\n\n@Component({\n  selector: 'sci-macroscopes',\n  templateUrl: './macroscopes.component.html',\n  styleUrls: ['./macroscopes.component.scss'],\n  animations: [drawerInOut]\n})\nexport class MacroscopesComponent implements OnInit {\n  /** HTML class name */\n  @HostBinding('class') readonly clsName = 'sci-macroscopes';\n\n  showModal = false;\n  highlightBody = '';\n  discoverItems: DiscoverItem[] = [];\n  displayItems: DiscoverItem[] = [];\n  carouselItems: {sm: string, lg: string, title: string}[] = [];\n  showAllItems = false;\n  displayLimit = 3;\n\n  constructor(private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.data.subscribe((data) => {\n      const {body, macroscopes} = data;\n      this.discoverItems = macroscopes;\n      if (body) {\n        this.highlightBody = body.body;\n      }\n      if (body.carousel) {\n        this.carouselItems = body.carousel;\n      }\n      this.updateDisplayItems();\n    });\n  }\n\n  updateDisplayItems(): void {\n    const items: DiscoverItem[] = [...this.discoverItems];\n    this.displayItems = items;\n  }\n}\n","<div class=\"macroscopes-container\">\n\n  <h2 class=\"header\">Macroscopes</h2>\n  <div class=\"highlight-content\">\n    <p markdown [data]=\"highlightBody\" class=\"highlight-body\"></p>\n    <div class=\"carousel-container\">\n      <sci-carousel class=\"carousel\">\n        <sci-carousel-item class=\"sci-carousel-item\" *ngFor=\"let carouselItem of carouselItems\">\n          <div class=\"carousel-item\" *sciBreakpoint=\"'desktop'\">\n            <img [src]=\"carouselItem.lg\" class=\"carousel-image\" [alt]=\"carouselItem.lg.split('/')[3]\">\n            <div class=\"carousel-image-title\">{{ carouselItem.title }}</div>\n          </div>\n          <div class=\"carousel-item\" *sciBreakpoint=\"'desktop-'\">\n            <img [src]=\"carouselItem.sm\" class=\"carousel-image\" [alt]=\"carouselItem.sm.split('/')[3]\">\n            <div class=\"carousel-image-title\">{{ carouselItem.title }}</div>\n          </div>\n        </sci-carousel-item>\n      </sci-carousel>\n    </div>\n  </div>\n\n  <ng-container *ngFor=\"let item of displayItems; let i = index;\">\n    <sci-discover-listing id=\"macroscope-{{item.iteration}}\" *ngIf=\"showAllItems || i < displayLimit\"\n      class=\"discover-item macroscopes\" [discoverItem]=\"item\" [type]=\"'macroscopes'\"></sci-discover-listing>\n  </ng-container>\n\n  <!-- mobile -->\n  <button *ngIf=\"!showAllItems\" class=\"more-button\" (click)=\"showAllItems = true\">Show More Macroscopes</button>\n  <div class=\"mobile-button\" (click)=\"showModal = true;\">\n    Discover Macroscopes\n    <mat-icon class=\"mobile-icon\">chevron_right</mat-icon>\n  </div>\n\n  <sci-drawer [@drawerInOut] *ngIf=\"showModal\" class=\"sci-drawer\">\n    <div class=\"drawer-container\" drawer>\n      <sci-drawer-header [title]=\"'Macroscopes'\" (backClick)=\"showModal = false\">\n      </sci-drawer-header>\n      <div class=\"drawer-content\">\n        <sci-carousel class=\"macroscopes-carousel\">\n          <sci-carousel-item class=\"mobile-carousel\" *ngFor=\"let discoverItem of discoverItems\">\n            <sci-discover-listing [discoverItem]=\"discoverItem\" [type]=\"'macroscopes'\"></sci-discover-listing>\n          </sci-carousel-item>\n        </sci-carousel>\n      </div>\n    </div>\n  </sci-drawer>\n</div>\n\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MarkdownModule } from 'ngx-markdown';\n\nimport { MacroscopesRoutingModule } from './macroscopes-routing.module';\nimport { MacroscopesComponent } from './macroscopes.component';\nimport { DiscoverListingModule } from '../../shared/components/discover-listing/discover-listing.module';\nimport { MatIconModule } from '@angular/material/icon';\nimport { CarouselModule } from '../../shared/components/carousel/carousel.module';\nimport { SharedModule } from '../../shared/shared.module';\nimport { DrawerModule } from '../../shared/components/drawer/drawer.module';\nimport { DrawerHeaderModule } from '../../shared/components/drawer-header/drawer-header.module';\n\n\n@NgModule({\n  declarations: [MacroscopesComponent],\n  imports: [\n    CommonModule,\n    MacroscopesRoutingModule,\n    DiscoverListingModule,\n    MatIconModule,\n    MarkdownModule,\n    CarouselModule,\n    SharedModule,\n    DrawerModule,\n    DrawerHeaderModule\n  ]\n})\nexport class MacroscopesModule { }\n","import { Component, EventEmitter, HostBinding, Input, Output } from '@angular/core';\n\n\n@Component({\n  selector: 'sci-drawer-header',\n  templateUrl: './drawer-header.component.html',\n  styleUrls: ['./drawer-header.component.scss']\n})\nexport class DrawerHeaderComponent {\n\n  @HostBinding('class') className = 'sci-drawer-header';\n\n  @Input() title = '';\n  @Input() backText = '';\n  @Output() backClick: EventEmitter<string> = new EventEmitter();\n\n}\n","<div class=\"drawer-header\">\n    <div class=\"back-button\" (click)=\"backClick.emit('back')\">\n        <mat-icon class=\"back-icon\">chevron_left</mat-icon>\n        <div class=\"back-text\">{{backText | uppercase}}</div>\n    </div>\n    <div class=\"title\">\n        <h3>\n            {{title}}\n        </h3>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DrawerHeaderComponent } from './drawer-header.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { SharedModule } from '../../shared.module';\n\n\n\n@NgModule({\n  declarations: [DrawerHeaderComponent],\n  imports: [\n    CommonModule,\n    MatIconModule,\n    SharedModule\n  ],\n  exports: [DrawerHeaderComponent]\n})\nexport class DrawerHeaderModule { }\n"],"names":[],"sourceRoot":"webpack:///"}