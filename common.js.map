{"version":3,"sources":["./src/app/shared/components/tab-header/tab-header.component.ts","./src/app/shared/components/tab-header/tab-header.component.html","./src/app/shared/components/tab-header/tab-header.module.ts","./src/app/shared/services/map-macroscope-resolver.service.ts","./src/app/pages/macroscopes/macroscopes-resolver.service.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["import { Component, EventEmitter, HostBinding, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'sci-tab-header',\n  templateUrl: './tab-header.component.html',\n  styleUrls: ['./tab-header.component.scss']\n})\nexport class TabHeaderComponent{\n  // Component class name\n  @HostBinding('class') readonly clsName = 'sci-social-sidebar';\n\n  @Input() tabs!: string[];\n  @Input() activeTabIndex = 0;\n  @Output() activeTabIndexChanged = new EventEmitter<number>();\n\n  setActiveTabIndex(index: number): void {\n    if (index === this.activeTabIndex) {\n      return;\n    }\n\n    this.activeTabIndex = index;\n    this.activeTabIndexChanged.emit(index);\n  }\n}\n","<div class=\"tab\" [class.active]=\"i === activeTabIndex\" *ngFor=\"let tab of tabs; index as i;\" (click)=\"setActiveTabIndex(i)\">{{ tab }}</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TabHeaderComponent } from './tab-header.component';\n\n\n\n@NgModule({\n  declarations: [TabHeaderComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [TabHeaderComponent]\n})\nexport class TabHeaderModule { }\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Params, Resolve } from '@angular/router';\nimport { combineLatest, forkJoin, Observable, of } from 'rxjs';\nimport { catchError, map, mergeMap, take } from 'rxjs/operators';\n\nimport { MapMacroscopeItem, Language } from '../../core/models/discover-item';\nimport { ContentService } from './content.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MapMacroscopeResolverService implements Resolve<MapMacroscopeItem> {\n  constructor(private content: ContentService) {}\n\n  resolve(\n    route: ActivatedRouteSnapshot\n  ): Observable<MapMacroscopeItem> | Observable<never> {\n    const languages$ = this.content\n      .getContent<Params[]>('site/languages.md')\n      .pipe(take(1));\n    const language = route.queryParamMap.get('lang') || 'en';\n    const type = route.data.type;\n    const iteration = route.paramMap.get('iteration');\n    const sequence = route.paramMap.get('sequence');\n    const mapSlug = `${type}/${iteration}/${sequence}`;\n    const content$ = this.content.getContent<Params>(mapSlug).pipe(take(1));\n\n    // tslint:disable-next-line: no-any\n    const response$ = combineLatest([languages$, content$]).pipe(\n      map((response: [Params, Params]) => {\n        const item: Params = {};\n        const [languages, data] = response;\n        item.title = data[language].title;\n        item.makers = data.en.makers;\n        item.credit = data[language].creditLine;\n        item.description = data[language].body;\n        item.references = data[language].references;\n        item.thumbnail = `assets/content/${type}/${data.en.iteration}/${data.en.sequence}/${data.en.image.lg}`;\n        item.translations = languages.languages.filter((lang: Language) => {\n          return Object.keys(data).includes(lang.abbr_short);\n        });\n        item.externalLink = data.en.externalLink;\n        return item;\n      })\n    );\n\n    const people$ = response$.pipe(\n      map((items) => items.makers),\n      mergeMap((slugs) => {\n        const forkJoins: Observable<Params>[] = slugs.map((slug: string) => {\n          // {'s1': {}}, {'s2': {}}\n          return this.content.getContent<Params>(`person/${slug}`).pipe(\n            take(1),\n            map((result: Params) => {\n              return {\n                [slug]: result,\n              };\n            }),\n            catchError(() => {\n              return of({});\n            })\n          );\n        });\n        // [ {'s1': {}}, {'s2': {}} ]\n        return forkJoin(forkJoins);\n      }),\n      map((array: Params[]) => {\n        const result = {};\n        array.forEach((element) => {\n          Object.assign(result, element);\n        });\n        // {'s1': {}, 's2': {}}\n        return result;\n      })\n    );\n    return combineLatest([response$, people$]).pipe(\n      map((result: Params[]) => {\n        const [response, people] = result;\n        const makers = response.makers\n          .map((slug: string) => {\n            if (people.hasOwnProperty(slug) && people[slug]) {\n              const profile = people[slug];\n              if (profile) {\n                const folder = slug.split('/')[0];\n                profile.image = `assets/content/person/${folder}/${profile.image}`;\n                return profile;\n              }\n            } else {\n              return {\n                name: slug.split('/')[0].replace('-', ' '),\n                body: 'Lorem Ipsum'\n              };\n            }\n          })\n          .filter((profile: Params | undefined) => profile);\n        response.makers = makers;\n        return response as MapMacroscopeItem;\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { DiscoverItem } from '../../core/models/discover-item';\nimport { ContentService } from '../../shared/services/content.service';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MacroscopesResolverService implements Resolve<DiscoverItem[]> {\n\n  constructor(private content: ContentService) { }\n\n  resolve(): Observable<DiscoverItem[]> | Observable<never> {\n    return this.content.getIndex<DiscoverItem>('app-macroscopes').pipe(take(1));\n  }\n}\n"],"sourceRoot":"webpack:///"}