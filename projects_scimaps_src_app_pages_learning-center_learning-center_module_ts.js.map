{"version":3,"file":"projects_scimaps_src_app_pages_learning-center_learning-center_module_ts.js","mappings":"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","sources":["./projects/scimaps/src/app/pages/learning-center/learning-center-body-resolver.service.ts","./projects/scimaps/src/app/pages/learning-center/learning-center-routing.module.ts","./projects/scimaps/src/app/pages/learning-center/learning-center.component.ts","./projects/scimaps/src/app/pages/learning-center/learning-center.component.html","./projects/scimaps/src/app/pages/learning-center/learning-center.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { concatMap, map, take } from 'rxjs/operators';\nimport { ContentService } from '../../shared/services/content.service';\nimport { BlogResolverService } from '../blogs/blog-resolver.service';\nimport { Blog } from '../blogs/blogs-resolver.service';\nimport { MakerVideoResolverService } from '../maker-videos/maker-video-resolver.service';\nimport { MakerVideo } from '../maker-videos/maker-videos-resolver.service';\nexport interface LearningCenterBody {\n  featured: {\n    type: string,\n    'featured-blog-slug'?: string,\n    'featured-video-slug'?: string,\n  };\n  featuredBlog?: Blog;\n  featuredVideo?: MakerVideo;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LearningCenterBodyResolverService {\n\n  mdPath = 'site/learning-center/learning-center.md';\n  directory = 'assets/content/site/learning-center';\n  constructor(\n    private content: ContentService,\n    private videoResolver: MakerVideoResolverService,\n    private blogResolver: BlogResolverService) {\n  }\n\n  resolve(): Observable<LearningCenterBody> | Observable<never> {\n    return this.content.getContent<LearningCenterBody>(this.mdPath).pipe(\n      take(1),\n      concatMap((body: LearningCenterBody) => {\n        const { featured } = body;\n        if (featured && featured.type === 'blog' && featured['featured-blog-slug']) {\n          const slug = featured['featured-blog-slug'];\n          const featuredBlog$ = this.blogResolver.getResult(`blog/${slug}`);\n          return featuredBlog$.pipe(\n            map((blog: Blog) => {\n              return { ...body, featuredBlog: blog };\n            })\n          );\n        } else if (featured && featured.type === 'video' && featured['featured-video-slug']) {\n          const slug = featured['featured-video-slug'];\n          const featuredVideo$ = this.videoResolver.getResult(`maker-videos/${slug}`);\n          return featuredVideo$.pipe(\n            map((makerVide: MakerVideo) => {\n              return {\n                ...body, featuredVideo: makerVide\n              };\n            })\n          );\n        } else {\n          return of(body);\n        }\n      })\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BlogsResolverService } from '../blogs/blogs-resolver.service';\nimport { MakerVideosResolverService } from '../maker-videos/maker-videos-resolver.service';\nimport { LearningCenterBodyResolverService } from './learning-center-body-resolver.service';\nimport { LearningCenterComponent } from './learning-center.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LearningCenterComponent,\n    data: {\n      blogsCount: 4,\n      videosCount: 4\n    },\n    resolve: {\n      body: LearningCenterBodyResolverService,\n      blogs: BlogsResolverService,\n      videos: MakerVideosResolverService\n    },\n    children: [\n      {\n        path: 'blogs',\n        loadChildren: () => import('../blogs/blogs.module').then(m => m.BlogsModule)\n      }, {\n        path: 'maker-videos',\n        loadChildren: () => import('../maker-videos/maker-videos.module').then(m => m.MakerVideosModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LearningCenterRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { drawerInOut } from '../../constants/drawer.animations';\nimport { Blog } from '../blogs/blogs-resolver.service';\nimport { MakerVideo } from '../maker-videos/maker-videos-resolver.service';\nimport { LearningCenterBody } from './learning-center-body-resolver.service';\n@Component({\n  selector: 'sci-learning-center',\n  templateUrl: './learning-center.component.html',\n  styleUrls: ['./learning-center.component.scss'],\n  animations: [drawerInOut]\n})\nexport class LearningCenterComponent implements OnInit {\n\n  constructor(private activatedRoute: ActivatedRoute, private router: Router) { }\n  body!: LearningCenterBody;\n  blogs: Blog[] = [];\n  videos: MakerVideo[] = [];\n  itemsPerRow = 4;\n  featuredBlog: Blog | undefined;\n  featuredVideo: MakerVideo | undefined;\n\n  ngOnInit(): void {\n    const { data } = this.activatedRoute.snapshot;\n    const { body, blogs, videos } = data;\n    if (body) {\n      this.body = body;\n    }\n\n    this.setBlogs(blogs);\n    this.setVideos(videos);\n    // Set featured\n    this.setFeatured();\n  }\n\n  setBlogs(blogs: Blog[]): void {\n    if (Array.isArray(blogs) && blogs.length) {\n      this.blogs = blogs;\n    }\n  }\n\n  setVideos(videos: MakerVideo[]): void {\n    if (Array.isArray(videos) && videos.length) {\n      this.videos = videos;\n    }\n  }\n\n  setFeatured(): void {\n    const { type } = this.body.featured;\n    if (type === 'video') {\n      const { featuredVideo } = this.body;\n      if (featuredVideo) {\n        this.featuredVideo = featuredVideo;\n      } else {\n        this.featuredVideo = this.videos[0];\n      }\n    } else {\n      const { featuredBlog } = this.body;\n      if (featuredBlog) {\n        this.featuredBlog = featuredBlog;\n      } else {\n        this.featuredBlog = this.blogs[0];\n      }\n    }\n  }\n\n  goto(page: string): void {\n    if (page === 'blogs') {\n      this.router.navigate(['/', 'learning-center', 'blogs']);\n    } else if (page === 'videos') {\n      this.router.navigate(['/', 'learning-center', 'maker-videos']);\n    }\n  }\n}\n","<h2 class=\"header\">Learning Center</h2>\n\n<!-- Featured -->\n<div *ngIf=\"featuredBlog\" class=\"featured-blog\">\n  <div class=\"featured-container\">\n    <img [src]=\"featuredBlog.blogImages[0].sm\" alt=\"Image\" />\n  </div>\n\n  <div class=\"spacer-48\"></div>\n\n  <div class=\"featured-description\">\n    <div>{{featuredBlog.title}}</div>\n    <div class=\"spacer-16\"></div>\n    <div>{{featuredBlog.date | date:'mediumDate':'+0000'}}</div>\n    <div class=\"spacer-16\"></div>\n    <div markdown [data]=\"featuredBlog.body\"></div>\n  </div>\n</div>\n\n<div *ngIf=\"featuredVideo\" class=\"featured-video\">\n  <iframe\n    class=\"iframe\"\n    [src]=\"featuredVideo.videoLink | safe: 'resourceUrl'\"\n    title=\"YouTube video player\"\n    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n    allowfullscreen\n  >\n  </iframe>\n\n  <div class=\"spacer-72\"></div>\n\n  <div class=\"long-description\" markdown [data]=\"featuredVideo?.long_description\"></div>\n</div>\n\n<div class=\"spacer-48\"></div>\n\n<!-- Desktop / Tab -->\n<div class=\"desktop-menu\" *sciBreakpoint=\"'mobile+'\">\n  <!-- Blogs -->\n  <div class=\"category\">\n    <p>Blog ( {{ blogs.length }} )</p>\n    <div class=\"category-row\">\n      <ng-container *ngFor=\"let blog of blogs; let i = index\">\n        <sci-blog-tile\n          class=\"col-4\"\n          *ngIf=\"i < itemsPerRow\"\n          [blog]=\"blog\"\n        ></sci-blog-tile>\n      </ng-container>\n      <div class=\"icon-container\">\n        <mat-icon class=\"more icon\" (click)=\"goto('blogs')\">\n          more_vert\n        </mat-icon>\n      </div>\n    </div>\n  </div>\n\n  <!-- Video -->\n  <div class=\"category\">\n    <p>Videos ( {{ videos.length }} )</p>\n    <div class=\"category-row\">\n      <ng-container *ngFor=\"let video of videos; let i = index\">\n        <sci-video-tile\n          class=\"col-4\"\n          *ngIf=\"i < itemsPerRow\"\n          [video]=\"video\"\n        ></sci-video-tile>\n      </ng-container>\n      <div class=\"icon-container\">\n        <mat-icon class=\"more icon\" (click)=\"goto('videos')\">\n          more_vert\n        </mat-icon>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Mobile -->\n<div class=\"mobile-menu\" *sciBreakpoint=\"'mobile-'\">\n  <div class=\"mobile-button\" (click)=\"goto('blogs')\">\n    Blogs ( {{ blogs.length }} )\n    <mat-icon class=\"mobile-icon\">chevron_right</mat-icon>\n  </div>\n  <div class=\"mobile-button\" (click)=\"goto('videos')\">\n    Videos ( {{ videos.length }} )\n    <mat-icon class=\"mobile-icon\">chevron_right</mat-icon>\n  </div>\n</div>\n\n<router-outlet></router-outlet>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MarkdownModule } from 'ngx-markdown';\nimport { SafePipeModule } from '../../pipes/safe.pipe';\nimport { BlogTileModule } from '../../shared/components/blog-tile/blog-tile.module';\nimport { DrawerHeaderModule } from '../../shared/components/drawer-header/drawer-header.module';\nimport { DrawerModule } from '../../shared/components/drawer/drawer.module';\nimport { VideoTileModule } from '../../shared/components/video-tile/video-tile.module';\nimport { SharedModule } from '../../shared/shared.module';\nimport { LearningCenterRoutingModule } from './learning-center-routing.module';\nimport { LearningCenterComponent } from './learning-center.component';\n\n\n@NgModule({\n  declarations: [LearningCenterComponent],\n  imports: [\n    CommonModule,\n    LearningCenterRoutingModule,\n    MarkdownModule,\n    MatCardModule,\n    MatIconModule,\n    SharedModule,\n    DrawerModule,\n    DrawerHeaderModule,\n    BlogTileModule,\n    VideoTileModule,\n    SafePipeModule\n  ]\n})\nexport class LearningCenterModule { }\n"],"names":[],"sourceRoot":"webpack:///"}